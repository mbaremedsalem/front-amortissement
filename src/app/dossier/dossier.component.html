<div class="flex-container">
  <button mat-icon-button class="example-icon-share favorite-icon" (click)="logout()">
    <img src="assets/icons/logout.png" class="mat-icontop" width="30px" height="30px" alt=""> 
    </button>

    <div class="search-bar" >
      <label for="client">Client</label>
      <input type="text" placeholder="client" class="search-input" [(ngModel)]="selectedClient" id="client" style="width: 100%;">
      <label for="compte">Dossier</label>
      <input type="text" placeholder="dossier" class="search-input" [(ngModel)]="selectedCompte" id="compte" style="width: 100%;">
    </div>
    <button style="color: white; background-color: #5538D9; border: 1px; border-radius: 5px; width: 100px; height: 40px;" [disabled]="loginInProgress" mat-raised-button class="example-icon" (click)="search()">
      <span *ngIf="!loginInProgress">Search</span>
      <mat-progress-spinner  class="mat-spinner-color" *ngIf="loginInProgress" mode="indeterminate" style="width: 20px;height: 20px; margin:auto;">
      </mat-progress-spinner>
      <img src="assets/icons/search.png" class="mat-iconleft" width="20px" height="20px" alt="">
    </button>


  </div>
  
  <!-- Affichage des données de la recherche -->
  <div *ngIf="results" class="flex-container">
    <h2>Résultats de la recherche :</h2>
    <table>
        <thead>
            <tr>
                <th></th>
                <th>Numero Dossier</th>
                <th>Compte Client</th>
                <th>Date Creation</th>
                <th>Capital</th>
                <th>Total Marge</th>
                <th>Type Mourabaha</th>
                <th>Nombre Echeance</th>
                <th>Actions</th>  
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let amortissement of results">    
                <td>{{ amortissement.id }}</td>
                <td>{{ amortissement.Numero_Dossier }}</td>
                <td>{{ amortissement.Compte_client }}</td>
                <td>{{ amortissement.Date_Creation }}</td>
                <td>{{ amortissement.Capital }}</td>
                <td>{{ amortissement.Marge }}</td>
                <td> {{ amortissement.Type }}</td>
                <td>{{ amortissement.Nbr_Echeance }}</td>
                <td>
                    <button type="button" class="btn btn-link" (click)="goToDetails(amortissement.Numero_Dossier,selectedClient)">
                      <i class="far fa-list-alt"></i> Détails
                    </button>
                  </td>
              </tr>
            <!-- Ajoutez plus de lignes de données au besoin -->
        </tbody>
    </table>
  </div>
  
  <!-- Affichage d'un message si aucun résultat n'est trouvé -->
  <div *ngIf="noResults">
    Aucun résultat trouvé pour le client {{ selectedClient }} et le compte {{ selectedCompte }}.
  </div>
  
